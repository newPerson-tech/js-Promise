<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch Paragraph by ID</title>
    <style>
        #commentInput {
            margin-top: 10px;
        }
    </style>
</head>

<body>
    <form id="fetchForm">
        <label for="idInput">Enter ID (1 to 100): </label>
        <input type="number" id="idInput" min="1" max="100" required>
        <button type="button" onclick="fetchParagraph()">Fetch Paragraph</button>
    </form>

    <div id="result"></div>
    <div id="commentSection"></div>

    <script>
        function fetchParagraph() {
            const idInput = document.getElementById('idInput').value;

            const fetchParagraphPromise = new Promise((resolve, reject) => {

                setTimeout(() => {
                    const paragraphs = document.getElementsByTagName('p');
                    const paragraph = Array.from(paragraphs).find(p => p.id === `para${idInput}`);

                    if (paragraph) {
                        resolve(paragraph.textContent);
                    } else {
                        reject(new Error('Paragraph not found.'));
                    }
                }, 1000);
            });

            fetchParagraphPromise
                .then(result => {
                    document.getElementById('result').textContent = result;
                    displayCommentSection();
                })
                .catch(error => {
                    document.getElementById('result').textContent = `Error: ${error.message}`;
                    document.getElementById('commentSection').innerHTML = ''; // Clear comment section on error
                });
        }

        function displayCommentSection() {
            const commentSection = document.getElementById('commentSection');
            commentSection.innerHTML = '';

            const commentLabel = document.createElement('label');
            commentLabel.textContent = 'Add a Comment:';
            commentSection.appendChild(commentLabel);

            const commentInput = document.createElement('textarea');
            commentInput.id = 'commentInput';
            commentInput.cols = 30;
            commentInput.rows = 5;
            commentSection.appendChild(commentInput);
        }
    </script>
</body>

</html>